!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("pixi.js")):"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Liquidity=e(require("pixi.js")):t.Liquidity=e(t.PIXI)}(window,function(t){return function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=18)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=0;function n(t,e,r){void 0===r&&(r=!1);var i=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.src=t,n.onload=e,i.appendChild(n)}e.loadScript=n,e.scriptLoader=function t(e,r){n("Scripts/jquery-2.1.0.min.js",function(){if(e.length>0){var i=e[0];e.splice(0,1),n(i,function(){t(e,r)})}else r()},!0)},e.rand=function(t,e){return Math.floor(Math.random()*e+1)+(t-1)},e.randFloat=function(t,e){return Math.random()*e+1+(t-1)},e.getId=function(){return i++},e.map=function(t,e,r,i,n){return(t-e)*(n-i)/(r-e)+i}},function(t,e,r){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var n=r(13),o=r(0),s=r(2),a=r(15),l=r(16),u=r(17);function c(t,e){var r=e.obj;if(e.label){var i=r,n=i[e.property];r=Object.create({}),"function"==typeof n?r[e.label]=function(){i[e.property]()}:Object.defineProperty(r,e.label,{get:function(){return i[e.property]},set:function(t){i[e.property]=t}})}var o,s=e.label||e.property;return o="color"===e.type?t.addColor(r,s):t.add(r,s,e.min,e.max,e.step),e.listen&&(o=o.listen()),o}function h(t,e){var r,n;e=e.slice().sort(function(t,e){return(t.label||t.property).localeCompare(e.label||e.property)});try{for(var o=i(e),s=o.next();!s.done;s=o.next()){c(t,s.value)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}e.addGuiItem=c,e.addGuiItems=h;var d=function(){function t(t,e,r){this._blur=10,this._contrast=5,this.renderer=t,this.gui=r,this.canvas=e,this.contrast=this.contrast;var i=[new s.GuiItem(this.renderer.engine,"particleCount","Particle Count",void 0,void 0,void 0,!0),new s.GuiItem(this.renderer,"globalParticleWidth","Particle Width",2,100),new s.GuiItem(this.renderer,"globalParticleHeight","Particle Height",2,100),new s.GuiItem(this.renderer.engine,"mode","Mode",-1,0,1),new s.GuiItem(this,"contrast","Contrast",1,20),new s.GuiItem(this,"randomize","Randomize"),new s.GuiItem(this,"blur","Blur",0,100)];this.renderer instanceof n.PixiRenderer&&i.push(new s.GuiItem(this.renderer,"mouseBrushSize","Mouse Brush Size",1,200)),h(r,i),this.addControllerGroup(new u.OptionsControllerThemes(t,this.gui));var o=new l.OptionsControllerPhysics(t,this.gui);this.addControllerGroup(o);var c=new a.OptionsControllerGenerator(t,this.gui);this.addControllerGroup(c),this.generator=c}return Object.defineProperty(t.prototype,"blur",{get:function(){return this._blur},set:function(t){this._blur=t,this.renderer.setBlur(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contrast",{get:function(){return this._contrast},set:function(t){this._contrast=t,this.canvas.style.filter="contrast("+t+")"},enumerable:!0,configurable:!0}),t.prototype.randomize=function(){this.renderer.engine.gravity=o.randFloat(-1,1),this.renderer.engine.density=o.randFloat(-1,1),this.renderer.engine.stiffness=o.randFloat(0,1),this.renderer.engine.bulkViscosity=o.randFloat(-1,5),this.renderer.engine.elasticity=o.randFloat(-1,5),this.renderer.engine.viscosity=o.randFloat(-1,1),this.renderer.engine.yieldRate=o.randFloat(-1,1)},t.prototype.addControllerGroup=function(t){t.parent=this,t.add()},t}();e.OptionsController=d},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,r,i,n,o,s,a){void 0===a&&(a="auto"),this.obj=t,this.property=e,this.label=r,this.min=i,this.max=n,this.step=o,this.listen=s,this.type=a};e.GuiItem=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.renderer=t,this.gui=e}return t.prototype.remove=function(){this.folder&&this.gui.removeFolder(this.folder)},t}();e.OptionsControllerGroup=i},function(e,r){e.exports=t},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(4),s=r(9),a=r(14),l=function(t){function e(e){var r=t.call(this,e)||this;return r.tint=16711680,r._blur=10,r.baseContainer=new o.Container,r.applyFilters(),r}return n(e,t),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(t){this._blur=t,this.applyFilters()},enumerable:!0,configurable:!0}),e.prototype.draw=function(){this.baseContainer.visible=this.isVisible,t.prototype.draw.call(this)},e.prototype.addParticle=function(e){t.prototype.addParticle.call(this,e),this.baseContainer.addChild(e.graphicsObject)},e.prototype.removeParticle=function(e){t.prototype.removeParticle.call(this,e),this.baseContainer.removeChild(e.graphicsObject)},e.prototype.applyFilters=function(){this.baseContainer.filters=this.getDefaultFilters()},e.prototype.createParticle=function(){return new a.PixiParticle},e.prototype.getDefaultFilters=function(t){void 0===t&&(t=!0);var e=[];return e=e.concat(this.createBlurs(this.blur,this.blur))},e.prototype.createColorMatrixFilter=function(){var t=new o.filters.ColorMatrixFilter;return t.matrix=[0,0,0,0,0,0,1,1,0,0,1,2,2,2,0,1],t},e.prototype.createBlurs=function(t,e){var r=new o.filters.BlurXFilter,i=new o.filters.BlurYFilter;return r.blur=t,i.blur=e,[r,i]},e}(s.ParticleGroup);e.PixiParticleGroup=l},function(t,e,r){"use strict";function i(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),i(r(14)),i(r(5)),i(r(13))},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var s=r(5),a=r(2),l=r(1),u=function(t){function e(e,r,i){var n=t.call(this,e,r)||this;n.group=i;var o=Object.keys(r.__folders).filter(function(t){return t.includes("Container")}).length;return n.name="Container "+o,n}return n(e,t),Object.defineProperty(e.prototype,"tint",{get:function(){return this.group instanceof s.PixiParticleGroup?"#"+this.decimalToHex(this.group.tint):""},set:function(t){this.group instanceof s.PixiParticleGroup&&(this.group.tint=parseInt(t.replace(/^#/,""),16))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this.group instanceof s.PixiParticleGroup?this.group.blur:0},set:function(t){this.group instanceof s.PixiParticleGroup&&(this.group.blur=t)},enumerable:!0,configurable:!0}),e.prototype.add=function(){var t=this.gui.addFolder(this.name);this.folder=t;var e=[new a.GuiItem(this,"tint","Tint",void 0,void 0,void 0,void 0,"color"),new a.GuiItem(this,"blur","Blur",0,50,void 0,!0),new a.GuiItem(this,"destroy","Destroy"),new a.GuiItem(this.group,"isVisible"),new a.GuiItem(this.group,"individualGravityOffset","Individual Gravity Offset",-1,1,.01)];l.addGuiItems(t,e)},e.prototype.decimalToHex=function(t,e){void 0===e&&(e=6);var r=Number(t).toString(16);for(e=null==e?e=2:e;r.length<e;)r="0"+r;return r},e.prototype.destroy=function(){this.gui.removeFolder(this.folder),delete this.gui.__folders[this.folder.name],this.renderer.removeGroup(this.group),this.group.destroy(),this.reapplyFolderNames()},e.prototype.reapplyFolderNames=function(){var t,e,r=0;try{for(var i=o(Object.keys(this.gui.__folders)),n=i.next();!n.done;n=i.next()){var s=n.value,a=this.gui.__folders[s];a.name.includes("Container")&&(a.name="Container "+r++,delete this.gui.__folders[s],this.gui.__folders[a.name]=a)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},e}(r(3).OptionsControllerGroup);e.OptionsControllerContainer=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),n=function(){function t(){this.id=i.getId(),this.individualWidth=0,this.individualHeight=0}return Object.defineProperty(t.prototype,"width",{get:function(){return this.individualWidth||(this.parent?this.parent.particleWidth:0)||(this.parent?this.parent.renderer.globalParticleWidth:0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.individualHeight||(this.parent?this.parent.particleHeight:0)||(this.parent?this.parent.renderer.globalParticleHeight:0)},enumerable:!0,configurable:!0}),t.prototype.remove=function(){this.parent&&this.parent.removeParticle(this)},t.prototype.draw=function(){var t=this.engineParticle;if(t){var e=this.parent?this.parent.renderer.engine.influenceMultiplier:6,r=Math.floor(e*(t.x-1)),i=Math.floor(e*t.y),n=Math.floor(e*(t.x-1-t.gU)),o=Math.floor(e*(t.y-t.gV));this.drawCore(r,i,n,o)}},t}();e.Particle=n},function(t,e,r){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.renderer=t,this.particleWidth=0,this.particleHeight=0,this.particles=[],this.isVisible=!0,this._individualGravityOffset=0}return Object.defineProperty(t.prototype,"individualGravityOffset",{get:function(){return this._individualGravityOffset},set:function(t){var e,r;this._individualGravityOffset=t;try{for(var n=i(this.particles),o=n.next();!o.done;o=n.next()){var s=o.value;s.engineParticle&&(s.engineParticle.individualGravity=t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},enumerable:!0,configurable:!0}),t.prototype.addParticle=function(t){t.parent=this;var e=t.engineParticle||this.renderer.engine.addParticle();t.engineParticle=e,this.particles.push(t)},t.prototype.createAndAddParticle=function(){this.addParticle(this.createParticle())},t.prototype.addParticles=function(t){var e,r;try{for(var n=i(t),o=n.next();!o.done;o=n.next()){var s=o.value;this.addParticle(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.removeParticle=function(t){t.parent=void 0;var e=this.particles.indexOf(t);e>=0&&(this.particles.splice(e,1),t.engineParticle&&this.renderer.engine.removeParticle(t.engineParticle))},t.prototype.destroy=function(){var t,e;try{for(var r=i(this.particles),n=r.next();!n.done;n=r.next()){var o=n.value;o.engineParticle&&this.renderer.engine.removeParticle(o.engineParticle)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this.particles=[]},t.prototype.draw=function(){var t,e;try{for(var r=i(this.particles),n=r.next();!n.done;n=r.next()){n.value.draw()}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},t}();e.ParticleGroup=n},function(t,e,r){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.groups=[],this.globalParticleWidth=2,this.globalParticleHeight=2,this.engine=t}return t.prototype.render=function(t){var e,r;void 0===t&&(t=!0),t&&this.engine.simulate();try{for(var n=i(this.groups),o=n.next();!o.done;o=n.next()){o.value.draw()}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.addGroup=function(t){this.groups.push(t)},t.prototype.removeGroup=function(t){var e=this.groups.indexOf(t);this.groups.splice(e,1)},t.prototype.destroyGroups=function(){var t,e;try{for(var r=i(this.groups.slice()),n=r.next();!n.done;n=r.next()){var o=n.value;this.removeGroup(o),o.destroy()}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this.groups=[]},t}();e.Renderer=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),n=function(){function t(t,e,r,n){this.id=i.getId(),this.individualGravity=0,this.stiffness=0,this.x=0,this.y=0,this.u=0,this.v=0,this.gU=0,this.gV=0,this.force0=0,this.force1=0,this.force2=0,this.cX=0,this.cY=0,this.pX=[0,0,0],this.pY=[0,0,0],this.gX=[0,0,0],this.gY=[0,0,0],this.dead=!1,this.broken=!1,this.decaying=!1,this.life=1,this.decayRate=.05,this.x=t,this.y=e,this.u=r,this.v=n}return t.prototype.revive=function(){this.life=1,this.dead=!1},t}();e.EngineParticle=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){this.m=0,this.gX=0,this.gY=0,this.u=0,this.v=0,this.aX=0,this.aY=0,this.active=!1,this.x=0,this.y=0};e.Node=i},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var s=r(4),a=r(10),l=r(5),u=function(t){function e(e,r){var i=t.call(this,e)||this;r||(r=document.createElement("canvas")),i.canvas=r;var n={size:10};return i.mousePosition=n,i.pixiRenderer=s.autoDetectRenderer(i.engine.viewportWidth,i.engine.viewportHeight,{transparent:!0,view:r}),i.stage=new s.Container,e.addPointInfo("Mouse",n),r.addEventListener("mousemove",function(t){var e=i.getMousePosition(r,t);n.x=e.x,n.y=e.y}),r.addEventListener("mousedown",function(){n.active=!0,n.activePreviously=!0}),r.addEventListener("mouseup",function(){n.active=!1}),i}return n(e,t),Object.defineProperty(e.prototype,"mouseBrushSize",{get:function(){return this.mousePosition.size||0},set:function(t){this.mousePosition.size=t},enumerable:!0,configurable:!0}),e.prototype.setBlurForContainer=function(t,e){var r,i;if(t.filters&&t.filters.length)try{for(var n=o(t.filters),a=n.next();!a.done;a=n.next()){var l=a.value;(l instanceof s.filters.BlurFilter||l instanceof s.filters.BlurXFilter||l instanceof s.filters.BlurYFilter)&&(l.blur=e)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}},e.prototype.setBlur=function(t){var e=this;this.groups.forEach(function(r){e.setBlurForContainer(r.baseContainer,t)})},e.prototype.setSmokeGravity=function(){this.engine.gravity=5e-4},e.prototype.setSpaceGravity=function(){this.engine.gravity=0},e.prototype.addGroup=function(e){t.prototype.addGroup.call(this,e),this.stage.addChild(e.baseContainer)},e.prototype.removeGroup=function(e){t.prototype.removeGroup.call(this,e),this.stage.removeChild(e.baseContainer)},e.prototype.render=function(e){void 0===e&&(e=!0),this.lastGraphic&&this.stage.removeChild(this.lastGraphic),t.prototype.render.call(this,e),this.pixiRenderer.render(this.stage)},e.prototype.getMousePosition=function(t,e){var r=t.getBoundingClientRect();return{x:e.clientX-r.left,y:e.clientY-r.top}},e.prototype.createParticleGroup=function(){return new l.PixiParticleGroup(this)},e}(a.Renderer);e.PixiRenderer=u},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(4),s=function(t){function e(r,i){var n=t.call(this)||this;n.individualWidth=r||0,n.individualHeight=i||0;e.texture||(e.texture=o.Texture.fromImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAIAAAD91JpzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQ5MDU1NzQ0RDk1MTExRTNBRkQ5RjlBRTM1RThCNEI0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ5MDU1NzQ1RDk1MTExRTNBRkQ5RjlBRTM1RThCNEI0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDkwNTU3NDJEOTUxMTFFM0FGRDlGOUFFMzVFOEI0QjQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDkwNTU3NDNEOTUxMTFFM0FGRDlGOUFFMzVFOEI0QjQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7yVMeHAAAAFUlEQVR42mL8//8/AwMDEwMYAAQYACQGAwEp6XggAAAAAElFTkSuQmCC"));var s=new o.Sprite(e.texture);return s.anchor.x=.5,s.anchor.y=.5,s.alpha=1,n.graphicsObject=s,n}return n(e,t),e.prototype.revive=function(){this.graphicsObject.visible=!0},e.prototype.drawCore=function(t,e,r,i){var n=this.graphicsObject,o=this.parent;n.tint=o?o.tint:0,n.position.x=t,n.position.y=e,n.height=Math.max(Math.abs(i-e)/2,this.height),n.width=Math.max(Math.abs(r-t)/2,this.width),n.rotation=Math.atan2(r,i)},e}(r(8).Particle);e.PixiParticle=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(6),s=r(2),a=r(1),l=r(7),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.count=10,e.blur=10,e.tint=16711680,e}return n(e,t),e.prototype.generate=function(t,e,r){var i=this.renderer.createParticleGroup();i instanceof o.PixiParticleGroup&&(i.tint=e,i.blur=r);for(var n=0;n<t;n++)i.createAndAddParticle();this.renderer.addGroup(i);var s=new l.OptionsControllerContainer(this.renderer,this.gui,i);this.parent.addControllerGroup(s)},e.prototype.add=function(){var t=this.gui.addFolder("Generator");a.addGuiItems(t,[new s.GuiItem(this,"count","Count",10,5e3),new s.GuiItem(this,"blur","Blur",0,50),new s.GuiItem(this,"generateInternal","Generate"),new s.GuiItem(this,"tint","Tint",void 0,void 0,void 0,void 0,"color")]),this.folder=t},e.prototype.generateInternal=function(){this.generate(this.count,this.tint,this.blur)},e}(r(3).OptionsControllerGroup);e.OptionsControllerGenerator=u},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(2),s=r(1),a=function(t){function e(e,r){return t.call(this,e,r)||this}return n(e,t),e.prototype.add=function(){var t=this.gui.addFolder("Physics");s.addGuiItems(t,[new o.GuiItem(this.renderer.engine,"gravity","Gravity",-1,1,void 0,!0),new o.GuiItem(this.renderer.engine,"density","Density",0,50,void 0,!0),new o.GuiItem(this.renderer.engine,"stiffness","Stiffness",-1,5,void 0,!0),new o.GuiItem(this.renderer.engine,"bulkViscosity","Bulkviscosity",-1,5,void 0,!0),new o.GuiItem(this.renderer.engine,"elasticity","Elasticity",-1,1,void 0,!0),new o.GuiItem(this.renderer.engine,"viscosity","Viscosity",-1,1,void 0,!0),new o.GuiItem(this.renderer.engine,"yieldRate","Yieldrate",-1,1,void 0,!0),new o.GuiItem(this.renderer.engine,"smoothing","Smoothing",0,1,void 0,!0),new o.GuiItem(this,"copy","Copy Settings")]),this.folder=t},e.prototype.copy=function(){var t={Gravity:this.renderer.engine.gravity,Density:this.renderer.engine.density,Stiffness:this.renderer.engine.stiffness,BulkViscosity:this.renderer.engine.bulkViscosity,Elasticity:this.renderer.engine.elasticity,Viscosity:this.renderer.engine.viscosity,YieldRate:this.renderer.engine.yieldRate,Smoothing:this.renderer.engine.smoothing};this.copyText(JSON.stringify(t))},e.prototype.copyText=function(t){var e=document.createElement("textarea");e.style.opacity="0",document.body.appendChild(e),e.textContent=t,e.select(),document.execCommand("copy"),e.remove()},e}(r(3).OptionsControllerGroup);e.OptionsControllerPhysics=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var s=r(6),a=r(2),l=r(1),u=r(7),c=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.renderer=e,i}return n(e,t),e.prototype.add=function(){var t=this.gui.addFolder("Visual Themes");l.addGuiItems(t,[new a.GuiItem(this,"electric","Electric"),new a.GuiItem(this,"lava","Lava")]),this.folder=t},e.prototype.electric=function(){this.clearFolders(),this.renderer.destroyGroups(),this.createAndAdd(5e3,255,24),this.createAndAdd(5e3,65535,2)},e.prototype.lava=function(){this.clearFolders(),this.renderer.destroyGroups(),this.createAndAdd(5e3,16761344,3),this.createAndAdd(5e3,16711680,11)},e.prototype.createAndAdd=function(t,e,r){for(var i=this.renderer.createParticleGroup(),n=0;n<t;n++)i.addParticle(new s.PixiParticle);i instanceof s.PixiParticleGroup&&(i.tint=e,i.blur=r),this.renderer.addGroup(i),this.parent.addControllerGroup(new u.OptionsControllerContainer(this.renderer,this.gui,i))},e.prototype.clearFolders=function(){var t,e;try{for(var r=o(Object.keys(this.gui.__folders)),i=r.next();!i.done;i=r.next()){var n=i.value,s=this.gui.__folders[n];s.name.indexOf("Container")>=0&&this.gui.removeFolder(s)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},e}(r(3).OptionsControllerGroup);e.OptionsControllerThemes=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(19),n=r(20),o=r(22),s=r(23),a=r(0);e.Base=i,e.Engine=n,e.Misc=o,e.Rendering=s,e.Utilities=a},function(t,e,r){"use strict";function i(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),i(r(8)),i(r(9)),i(r(10))},function(t,e,r){"use strict";function i(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),i(r(21)),i(r(11)),i(r(12))},function(t,e,r){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),o=r(11),s=r(12),a=function(){function t(t,e){this.particles=[],this.influenceMultiplier=6,this.gridSizeX=0,this.gridSizeY=0,this.grid=[],this.active=[],this.points={},this.density=2,this.stiffness=1,this.bulkViscosity=1,this.elasticity=0,this.viscosity=.1,this.yieldRate=0,this.gravity=.05,this.smoothing=0,this.currentParticles=[],this.oldWidth=0,this.oldHeight=0,this.mode=-1,this.space=!1,console.log("Liquidity v1.0.1"),this.viewportWidth=t,this.viewportHeight=e,this.reinit()}return Object.defineProperty(t.prototype,"particleCount",{get:function(){return this.particles.length},enumerable:!0,configurable:!0}),t.prototype.addPointInfo=function(t,e){this.points[t]=e},t.prototype.removeParticle=function(t){var e=this.particles.indexOf(t);if(void 0===e)throw new Error("Unable to find particle.");this.particles.splice(e,1)},t.prototype.removeParticles=function(t){var e,r,n=new Set(t.map(function(t){return t.id})),o=[];try{for(var s=i(this.particles.slice()),a=s.next();!a.done;a=s.next()){var l=a.value;n.has(l.id)||o.push(l)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}this.particles=o},t.prototype.addParticle=function(){var t=new o.EngineParticle(n.rand(1,this.gridSizeX-3),n.rand(1,this.gridSizeY-3),0,0);return this.particles.push(t),t},t.prototype.setParticleCount=function(t,e){var r=[],i=Math.abs(e-t);if(e>t)for(var n=0;n<i;n++){var o=this.addParticle();r.push(o)}else for(n=0;n<i;n++)r.push(this.particles.pop());return r},t.prototype.reinit=function(t){void 0===t&&(t=!0),t&&(this.gridSizeX=Math.ceil(this.viewportWidth/5.89),this.gridSizeY=Math.ceil(this.viewportHeight/5.89));var e=Math.ceil(this.oldWidth/5.89),r=Math.ceil(this.oldHeight/5.89),i=Math.abs(this.gridSizeX-e),n=Math.abs(this.gridSizeY-r);if(this.gridSizeX>e){this.grid.forEach(function(t){for(var e=0;e<n;e++)t.push(new s.Node)});for(var o=0;o<i;o++){this.grid.push([]);for(var a=0;a<this.gridSizeY;a++)this.grid[o].push(new s.Node)}}else{for(o=0;o<i;o++)this.grid.pop();this.grid.forEach(function(t){for(var e=0;e<n;e++)t.pop()})}},t.prototype.init=function(){this.grid=[],this.grid.length=this.gridSizeX,this.particles=[],this.buildGrid()},t.prototype.simulate=function(){var t,e,r,n,o=this.points;try{for(var s=i(Object.keys(o)),a=s.next();!a.done;a=s.next()){var l=a.value;(jt=o[l])&&(jt.active&&jt.activePreviously&&(jt.calculatedX=(jt.x-jt.previousX)/this.influenceMultiplier,jt.calculatedY=(jt.y-jt.previousY)/this.influenceMultiplier),jt.activePreviously=jt.active,jt.previousX=jt.x,jt.previousY=jt.y)}}catch(e){t={error:e}}finally{try{a&&!a.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}for(var u=0,c=this.active.length;u<c;u++){(M=this.active[u]).m=M.gX=M.gY=M.u=M.v=M.aX=M.aY=0,M.active=!1}this.active=[];var h=0;for(c=this.particles.length;h<c;h++){(P=this.particles[h]).cX=Math.floor(P.x-.5),P.cY=Math.floor(P.y-.5);var d=P.cX-P.x;P.pX[0]=.5*d*d+1.5*d+1.125,P.gX[0]=d+1.5,d+=1,P.pX[1]=-d*d+.75,P.gX[1]=-2*d,d+=1,P.pX[2]=.5*d*d-1.5*d+1.125,P.gX[2]=d-1.5;var f=P.cY-P.y;P.pY[0]=.5*f*f+1.5*f+1.125,P.gY[0]=f+1.5,f+=1,P.pY[1]=-f*f+.75,P.gY[1]=-2*f,f+=1,P.pY[2]=.5*f*f-1.5*f+1.125,P.gY[2]=f-1.5;for(var p=0;p<3;p++)for(var y=0;y<3;y++){var v=Math.floor(P.cX+p),g=Math.floor(P.cY+y);(M=this.grid[v][g]).active||(this.active.push(M),M.active=!0);var b=P.pX[p]*P.pY[y];M.m+=b;var m=P.gX[p]*P.pY[y],_=P.pX[p]*P.gY[y];M.gX+=m,M.gY+=_,M.u+=b*P.u,M.v+=b*P.v}}for(u=0,c=this.active.length;u<c;u++){(M=this.active[u]).m>0&&(M.u/=M.m,M.v/=M.m)}for(h=0,c=this.particles.length;h<c;h++){var P=this.particles[h],O=0,w=0,x=0,G=0;for(p=0;p<3;p++)for(y=0;y<3;y++){var M=this.grid[Math.floor(P.cX+p)][Math.floor(P.cY+y)],j=P.gX[p]*P.pY[y],S=P.pX[p]*P.gY[y];O+=M.u*j,w+=M.u*S,x+=M.v*j,G+=M.v*S}var I=w-x,Y=I*P.force1,C=.5*I*(P.force0-P.force2),A=O,X=.5*(w+x),R=G,F=.5*(A+R);A-=F,R-=F,P.force0+=-Y+A-this.yieldRate*P.force0,P.force1+=C+X-this.yieldRate*P.force1,P.force2+=Y+R-this.yieldRate*P.force2;var E=P.force0*P.force0+2*P.force1*P.force1+P.force2*P.force2;(this.mode>-1||E>5)&&(P.force0=P.force1=P.force2=0);var z=Math.floor(P.x),N=Math.floor(P.y),T=(v=Math.floor(z+1),Math.floor(N+1)),B=this.grid[z][N].m,k=this.grid[z][N].gX,V=this.grid[z][N].gY,W=this.grid[z][T].m,D=this.grid[z][T].gX,H=this.grid[z][T].gY,U=this.grid[v][N].m,Z=this.grid[v][N].gX,L=this.grid[v][N].gY,Q=this.grid[v][T].m,J=this.grid[v][T].gX,q=this.grid[v][T].gY,K=U-B,$=W-B,tt=3*K-Z-2*k,et=3*$-H-2*V,rt=-2*K+Z+k,it=-2*$+H+V,nt=B+V+et+it,ot=B+k+tt+rt,st=3*Q-2*D-J-3*nt-tt,at=-2*Q+D+J+2*nt-rt,lt=3*Q-2*L-q-3*ot-et,ut=-2*Q+L+q+2*ot-it,ct=D-ut-lt-k,ht=P.x-z,dt=ht*ht,ft=ht*dt,pt=P.y-N,yt=pt*pt,vt=pt*yt,gt=B+k*ht+V*pt+tt*dt+et*yt+rt*ft+it*vt+st*dt*pt+at*ft*pt+lt*ht*yt+ut*ht*vt+ct*ht*pt,bt=(this.stiffness+P.stiffness)/Math.max(1,this.density)*(gt-this.density);bt>2&&(bt=2);var mt=0,_t=0;P.x<3?mt+=3-P.x:P.x>this.gridSizeX-4&&(mt+=this.gridSizeX-4-P.x),P.y<3?_t+=3-P.y:P.y>this.gridSizeY-4&&(_t+=this.gridSizeY-4-P.y),F*=this.stiffness+P.stiffness;var Pt=this.elasticity*P.force0+this.viscosity*A+bt+this.bulkViscosity*F,Ot=this.elasticity*P.force1+this.viscosity*X,wt=this.elasticity*P.force2+this.viscosity*R+bt+this.bulkViscosity*F;for(p=0;p<3;p++)for(y=0;y<3;y++){M=this.grid[Math.floor(P.cX+p)][Math.floor(P.cY+y)],b=P.pX[p]*P.pY[y],m=P.gX[p]*P.pY[y],_=P.pX[p]*P.gY[y];M.aX+=mt*b-(m*Pt+_*Ot),M.aY+=_t*b-(m*Ot+_*wt)}}for(u=0,c=this.active.length;u<c;u++){(M=this.active[u]).m>0&&(M.aX/=M.m,M.aY/=M.m,M.u=0,M.v=0)}var xt=[];this.currentParticles=xt;for(h=0,c=this.particles.length;h<c;h++){for(P=this.particles[h],p=0;p<3;p++)for(y=0;y<3;y++){M=this.grid[Math.floor(P.cX+p)][Math.floor(P.cY+y)],b=P.pX[p]*P.pY[y];P.u+=b*M.aX,P.v+=b*M.aY}P.v+=this.gravity+P.individualGravity;try{for(var Gt=(r=void 0,i(Object.keys(o))),Mt=Gt.next();!Mt.done;Mt=Gt.next()){var jt,St=Mt.value,It=(jt=o[St]).size||10;if(jt&&(jt.active=jt.activePreviously,jt.active)){var Yt=Math.abs(P.x-jt.x/this.influenceMultiplier),Ct=Math.abs(P.y-jt.y/this.influenceMultiplier);if(Yt<It&&Ct<It){var At=(1-Yt/It)*(1-Ct/It);P.u+=At*(jt.calculatedX-P.u),P.v+=At*(jt.calculatedY-P.v),xt.push(P)}}}}catch(t){r={error:t}}finally{try{Mt&&!Mt.done&&(n=Gt.return)&&n.call(Gt)}finally{if(r)throw r.error}}d=P.x+P.u,f=P.y+P.v;d<2?P.u+=2-d+.01*Math.random():d>this.gridSizeX-3&&(P.u+=this.gridSizeX-3-d-.01*Math.random()),f<2?P.v+=2-f+.01*Math.random():f>this.gridSizeY-3&&(P.v+=this.gridSizeY-3-f-.01*Math.random());for(p=0;p<3;p++)for(y=0;y<3;y++){M=this.grid[Math.floor(P.cX+p)][Math.floor(P.cY+y)],b=P.pX[p]*P.pY[y];M.u+=b*P.u,M.v+=b*P.v}}for(u=0,c=this.active.length;u<c;u++){(M=this.active[u]).m>0&&(M.u/=M.m,M.v/=M.m)}for(h=0,c=this.particles.length;h<c;h++){P=this.particles[h];var Xt=0,Rt=0;for(p=0;p<3;p++)for(y=0;y<3;y++){M=this.grid[Math.floor(P.cX+p)][Math.floor(P.cY+y)];Xt+=(b=P.pX[p]*P.pY[y])*M.u,Rt+=b*M.v}P.gU=Xt,P.gV=Rt,P.x+=Xt,P.y+=Rt,P.u+=this.smoothing*(Xt-P.u),P.v+=this.smoothing*(Rt-P.v)}Object.keys(o).forEach(function(t){var e=o[t];e&&e.autoRemove&&(o[t]=void 0)})},t.prototype.buildGrid=function(){for(var t=0;t<this.gridSizeX;t++){var e=[];e.length=this.gridSizeY,this.grid[t]=e;for(var r=0;r<this.gridSizeY;r++)e[r]=new s.Node}},t}();e.Engine=a},function(t,e,r){"use strict";function i(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),i(r(1)),i(r(7)),i(r(15)),i(r(3)),i(r(16)),i(r(17))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(6);e.PixiJS=i}])});