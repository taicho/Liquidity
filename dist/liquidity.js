!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("pixi.js")):"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Liquidity=e(require("pixi.js")):t.Liquidity=e(t.PIXI)}(window,function(t){return function(t){var e={};function r(i){if(e[i])return e[i].exports;var n=e[i]={i:i,l:!1,exports:{}};return t[i].call(n.exports,n,n.exports,r),n.l=!0,n.exports}return r.m=t,r.c=e,r.d=function(t,e,i){r.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},r.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.t=function(t,e){if(1&e&&(t=r(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(r.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)r.d(i,n,function(e){return t[e]}.bind(null,n));return i},r.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return r.d(e,"a",e),e},r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},r.p="",r(r.s=18)}([function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=0;function n(t,e,r){void 0===r&&(r=!1);var i=document.getElementsByTagName("head")[0],n=document.createElement("script");n.type="text/javascript",n.src=t,n.onload=e,i.appendChild(n)}e.loadScript=n,e.scriptLoader=function t(e,r){n("Scripts/jquery-2.1.0.min.js",function(){if(e.length>0){var i=e[0];e.splice(0,1),n(i,function(){t(e,r)})}else r()},!0)},e.rand=function(t,e){return Math.floor(Math.random()*e+1)+(t-1)},e.randFloat=function(t,e){return Math.random()*e+1+(t-1)},e.getId=function(){return i++},e.map=function(t,e,r,i,n){return(t-e)*(n-i)/(r-e)+i}},function(t,e,r){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var n=r(13),o=r(0),s=r(2),a=r(15),l=r(16),u=r(17);function c(t,e){var r=e.obj;if(e.label){var i=r,n=i[e.property];r=Object.create({}),"function"==typeof n?r[e.label]=function(){i[e.property]()}:Object.defineProperty(r,e.label,{get:function(){return i[e.property]},set:function(t){i[e.property]=t}})}var o,s=e.label||e.property;return o="color"===e.type?t.addColor(r,s):t.add(r,s,e.min,e.max,e.step),e.listen&&(o=o.listen()),o}function h(t,e){var r,n;e=e.slice().sort(function(t,e){return(t.label||t.property).localeCompare(e.label||e.property)});try{for(var o=i(e),s=o.next();!s.done;s=o.next()){c(t,s.value)}}catch(t){r={error:t}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}}e.addGuiItem=c,e.addGuiItems=h;var d=function(){function t(t,e,r){this._blur=10,this._contrast=5,this.renderer=t,this.gui=r,this.canvas=e,this.contrast=this.contrast;var i=[new s.GuiItem(this.renderer.engine,"particleCount","Particle Count",void 0,void 0,void 0,!0),new s.GuiItem(this.renderer,"globalParticleWidth","Particle Width",2,100),new s.GuiItem(this.renderer,"globalParticleHeight","Particle Height",2,100),new s.GuiItem(this.renderer.engine,"mode","Mode",-1,0,1),new s.GuiItem(this,"contrast","Contrast",1,20),new s.GuiItem(this,"randomize","Randomize"),new s.GuiItem(this,"blur","Blur",0,100)];this.renderer instanceof n.PixiRenderer&&i.push(new s.GuiItem(this.renderer,"mouseBrushSize","Mouse Brush Size",1,200)),h(r,i),this.addControllerGroup(new u.OptionsControllerThemes(t,this.gui));var o=new l.OptionsControllerPhysics(t,this.gui);this.addControllerGroup(o);var c=new a.OptionsControllerGenerator(t,this.gui);this.addControllerGroup(c),this.generator=c}return Object.defineProperty(t.prototype,"blur",{get:function(){return this._blur},set:function(t){this._blur=t,this.renderer.setBlur(t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contrast",{get:function(){return this._contrast},set:function(t){this._contrast=t,this.canvas.style.filter="contrast("+t+")"},enumerable:!0,configurable:!0}),t.prototype.randomize=function(){this.renderer.engine.gravity=o.randFloat(-1,1),this.renderer.engine.density=o.randFloat(-1,1),this.renderer.engine.stiffness=o.randFloat(0,1),this.renderer.engine.bulkViscosity=o.randFloat(-1,5),this.renderer.engine.elasticity=o.randFloat(-1,5),this.renderer.engine.viscosity=o.randFloat(-1,1),this.renderer.engine.yieldRate=o.randFloat(-1,1)},t.prototype.addControllerGroup=function(t){t.parent=this,t.add()},t}();e.OptionsController=d},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(t,e,r,i,n,o,s,a){void 0===a&&(a="auto"),this.obj=t,this.property=e,this.label=r,this.min=i,this.max=n,this.step=o,this.listen=s,this.type=a};e.GuiItem=i},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){function t(t,e){this.renderer=t,this.gui=e}return t.prototype.remove=function(){this.folder&&this.gui.removeFolder(this.folder)},t}();e.OptionsControllerGroup=i},function(e,r){e.exports=t},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(4),s=r(9),a=r(14),l=function(t){function e(e){var r=t.call(this,e)||this;return r.tint=16711680,r._blur=10,r.baseContainer=new o.Container,r.applyFilters(),r}return n(e,t),Object.defineProperty(e.prototype,"blur",{get:function(){return this._blur},set:function(t){this._blur=t,this.applyFilters()},enumerable:!0,configurable:!0}),e.prototype.draw=function(){this.baseContainer.visible=this.isVisible,t.prototype.draw.call(this)},e.prototype.addParticle=function(e){t.prototype.addParticle.call(this,e),this.baseContainer.addChild(e.graphicsObject)},e.prototype.removeParticle=function(e){t.prototype.removeParticle.call(this,e),this.baseContainer.removeChild(e.graphicsObject)},e.prototype.applyFilters=function(){this.baseContainer.filters=this.getDefaultFilters()},e.prototype.createParticle=function(){return new a.PixiParticle},e.prototype.getDefaultFilters=function(t){void 0===t&&(t=!0);var e=[];return e=e.concat(this.createBlurs(this.blur,this.blur))},e.prototype.createColorMatrixFilter=function(){var t=new o.filters.ColorMatrixFilter;return t.matrix=[0,0,0,0,0,0,1,1,0,0,1,2,2,2,0,1],t},e.prototype.createBlurs=function(t,e){var r=new o.filters.BlurXFilter,i=new o.filters.BlurYFilter;return r.blur=t,i.blur=e,[r,i]},e}(s.ParticleGroup);e.PixiParticleGroup=l},function(t,e,r){"use strict";function i(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),i(r(14)),i(r(5)),i(r(13))},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var s=r(5),a=r(2),l=r(1),u=function(t){function e(e,r,i){var n=t.call(this,e,r)||this;n.group=i;var o=Object.keys(r.__folders).filter(function(t){return t.includes("Container")}).length;return n.name="Container "+o,n}return n(e,t),Object.defineProperty(e.prototype,"tint",{get:function(){return this.group instanceof s.PixiParticleGroup?"#"+this.decimalToHex(this.group.tint):""},set:function(t){this.group instanceof s.PixiParticleGroup&&(this.group.tint=parseInt(t.replace(/^#/,""),16))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"blur",{get:function(){return this.group instanceof s.PixiParticleGroup?this.group.blur:0},set:function(t){this.group instanceof s.PixiParticleGroup&&(this.group.blur=t)},enumerable:!0,configurable:!0}),e.prototype.add=function(){var t=this.gui.addFolder(this.name);this.folder=t;var e=[new a.GuiItem(this,"tint","Tint",void 0,void 0,void 0,void 0,"color"),new a.GuiItem(this,"blur","Blur",0,50,void 0,!0),new a.GuiItem(this,"destroy","Destroy"),new a.GuiItem(this.group,"isVisible"),new a.GuiItem(this.group,"individualGravityOffset","Individual Gravity Offset",-1,1,.01)];l.addGuiItems(t,e)},e.prototype.decimalToHex=function(t,e){void 0===e&&(e=6);var r=Number(t).toString(16);for(e=null==e?e=2:e;r.length<e;)r="0"+r;return r},e.prototype.destroy=function(){this.gui.removeFolder(this.folder),delete this.gui.__folders[this.folder.name],this.renderer.removeGroup(this.group),this.group.destroy(),this.reapplyFolderNames()},e.prototype.reapplyFolderNames=function(){var t,e,r=0;try{for(var i=o(Object.keys(this.gui.__folders)),n=i.next();!n.done;n=i.next()){var s=n.value,a=this.gui.__folders[s];a.name.includes("Container")&&(a.name="Container "+r++,delete this.gui.__folders[s],this.gui.__folders[a.name]=a)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=i.return)&&e.call(i)}finally{if(t)throw t.error}}},e}(r(3).OptionsControllerGroup);e.OptionsControllerContainer=u},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),n=function(){function t(){this.id=i.getId(),this.individualWidth=0,this.individualHeight=0}return Object.defineProperty(t.prototype,"width",{get:function(){return this.individualWidth||(this.parent?this.parent.particleWidth:0)||(this.parent?this.parent.renderer.globalParticleWidth:0)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this.individualHeight||(this.parent?this.parent.particleHeight:0)||(this.parent?this.parent.renderer.globalParticleHeight:0)},enumerable:!0,configurable:!0}),t.prototype.remove=function(){this.parent&&this.parent.removeParticle(this)},t.prototype.draw=function(){var t=this.engineParticle;if(t){var e=this.parent?this.parent.renderer.engine.influenceMultiplier:6,r=Math.floor(e*(t.x-1)),i=Math.floor(e*t.y),n=Math.floor(e*(t.x-1-t.gU)),o=Math.floor(e*(t.y-t.gV));this.drawCore(r,i,n,o)}},t}();e.Particle=n},function(t,e,r){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.renderer=t,this.particleWidth=0,this.particleHeight=0,this.particles=[],this.isVisible=!0,this._individualGravityOffset=0}return Object.defineProperty(t.prototype,"individualGravityOffset",{get:function(){return this._individualGravityOffset},set:function(t){var e,r;this._individualGravityOffset=t;try{for(var n=i(this.particles),o=n.next();!o.done;o=n.next()){var s=o.value;s.engineParticle&&(s.engineParticle.individualGravity=t)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},enumerable:!0,configurable:!0}),t.prototype.addParticle=function(t){t.parent=this;var e=t.engineParticle||this.renderer.engine.createAndAddParticle();t.engineParticle=e,this.particles.push(t)},t.prototype.createAndAddParticle=function(){this.addParticle(this.createParticle())},t.prototype.addParticles=function(t){var e,r;try{for(var n=i(t),o=n.next();!o.done;o=n.next()){var s=o.value;this.addParticle(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.removeParticle=function(t){t.parent=void 0;var e=this.particles.indexOf(t);e>=0&&(this.particles.splice(e,1),t.engineParticle&&this.renderer.engine.removeParticle(t.engineParticle))},t.prototype.destroy=function(){var t,e;try{for(var r=i(this.particles),n=r.next();!n.done;n=r.next()){var o=n.value;o.engineParticle&&this.renderer.engine.removeParticle(o.engineParticle)}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this.particles=[]},t.prototype.draw=function(){for(var t=0;t<this.particles.length;t++)this.particles[t].draw()},t}();e.ParticleGroup=n},function(t,e,r){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var n=function(){function t(t){this.groups=[],this.globalParticleWidth=2,this.globalParticleHeight=2,this.engine=t}return t.prototype.render=function(t){var e,r;void 0===t&&(t=!0),t&&this.engine.simulate();try{for(var n=i(this.groups),o=n.next();!o.done;o=n.next()){o.value.draw()}}catch(t){e={error:t}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(e)throw e.error}}},t.prototype.addGroup=function(t){this.groups.push(t)},t.prototype.removeGroup=function(t){var e=this.groups.indexOf(t);e>=0&&this.groups.splice(e,1)},t.prototype.destroyGroups=function(){var t,e;try{for(var r=i(this.groups.slice()),n=r.next();!n.done;n=r.next()){var o=n.value;this.removeGroup(o),o.destroy()}}catch(e){t={error:e}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}this.groups=[]},t}();e.Renderer=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(0),n=function(t,e,r,n){this.id=i.getId(),this.individualGravity=0,this.stiffness=0,this.x=0,this.y=0,this.u=0,this.v=0,this.gU=0,this.gV=0,this.force0=0,this.force1=0,this.force2=0,this.cX=0,this.cY=0,this.pX=[0,0,0],this.pY=[0,0,0],this.gX=[0,0,0],this.gY=[0,0,0],this.x=t,this.y=e,this.u=r,this.v=n};e.EngineParticle=n},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=function(){this.m=0,this.gX=0,this.gY=0,this.u=0,this.v=0,this.aX=0,this.aY=0,this.active=!1,this.x=0,this.y=0};e.Node=i},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var s=r(4),a=r(10),l=r(5),u=function(t){function e(e,r){var i=t.call(this,e)||this;r||(r=document.createElement("canvas")),i.canvas=r;var n={size:10};return i.mousePosition=n,i.pixiRenderer=s.autoDetectRenderer(i.engine.viewportWidth,i.engine.viewportHeight,{transparent:!0,view:r}),i.stage=new s.Container,e.addPointInfo("Mouse",n),r.addEventListener("mousemove",function(t){var e=i.getMousePosition(r,t);n.x=e.x,n.y=e.y}),r.addEventListener("mousedown",function(){n.active=!0,n.activePreviously=!0}),r.addEventListener("mouseup",function(){n.active=!1}),i}return n(e,t),Object.defineProperty(e.prototype,"mouseBrushSize",{get:function(){return this.mousePosition.size||0},set:function(t){this.mousePosition.size=t},enumerable:!0,configurable:!0}),e.prototype.setBlurForContainer=function(t,e){var r,i;if(t.filters&&t.filters.length)try{for(var n=o(t.filters),a=n.next();!a.done;a=n.next()){var l=a.value;(l instanceof s.filters.BlurFilter||l instanceof s.filters.BlurXFilter||l instanceof s.filters.BlurYFilter)&&(l.blur=e)}}catch(t){r={error:t}}finally{try{a&&!a.done&&(i=n.return)&&i.call(n)}finally{if(r)throw r.error}}},e.prototype.setBlur=function(t){var e=this;this.groups.forEach(function(r){e.setBlurForContainer(r.baseContainer,t)})},e.prototype.setSmokeGravity=function(){this.engine.gravity=5e-4},e.prototype.setSpaceGravity=function(){this.engine.gravity=0},e.prototype.addGroup=function(e){t.prototype.addGroup.call(this,e),this.stage.addChild(e.baseContainer)},e.prototype.removeGroup=function(e){t.prototype.removeGroup.call(this,e),this.stage.removeChild(e.baseContainer)},e.prototype.render=function(e){void 0===e&&(e=!0),this.lastGraphic&&this.stage.removeChild(this.lastGraphic),t.prototype.render.call(this,e),this.pixiRenderer.render(this.stage)},e.prototype.getMousePosition=function(t,e){var r=t.getBoundingClientRect();return{x:e.clientX-r.left,y:e.clientY-r.top}},e.prototype.createParticleGroup=function(){return new l.PixiParticleGroup(this)},e}(a.Renderer);e.PixiRenderer=u},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(4),s=function(t){function e(r,i){var n=t.call(this)||this;n.individualWidth=r||0,n.individualHeight=i||0;e.texture||(e.texture=o.Texture.fromImage("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAIAAAACCAIAAAD91JpzAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyNpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChNYWNpbnRvc2gpIiB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjQ5MDU1NzQ0RDk1MTExRTNBRkQ5RjlBRTM1RThCNEI0IiB4bXBNTTpEb2N1bWVudElEPSJ4bXAuZGlkOjQ5MDU1NzQ1RDk1MTExRTNBRkQ5RjlBRTM1RThCNEI0Ij4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6NDkwNTU3NDJEOTUxMTFFM0FGRDlGOUFFMzVFOEI0QjQiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6NDkwNTU3NDNEOTUxMTFFM0FGRDlGOUFFMzVFOEI0QjQiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz7yVMeHAAAAFUlEQVR42mL8//8/AwMDEwMYAAQYACQGAwEp6XggAAAAAElFTkSuQmCC"));var s=new o.Sprite(e.texture);return s.anchor.x=.5,s.anchor.y=.5,s.alpha=1,n.graphicsObject=s,n}return n(e,t),e.prototype.revive=function(){this.graphicsObject.visible=!0},e.prototype.drawCore=function(t,e,r,i){var n=this.graphicsObject,o=this.parent;n.tint=o?o.tint:0,n.position.x=t,n.position.y=e,n.height=Math.max(Math.abs(i-e)/2,this.height),n.width=Math.max(Math.abs(r-t)/2,this.width),n.rotation=Math.atan2(r,i)},e}(r(8).Particle);e.PixiParticle=s},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(6),s=r(2),a=r(1),l=r(7),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.count=10,e.blur=10,e.tint=16711680,e}return n(e,t),e.prototype.generate=function(t,e,r){var i=this.renderer.createParticleGroup();i instanceof o.PixiParticleGroup&&(i.tint=e,i.blur=r);for(var n=0;n<t;n++)i.createAndAddParticle();this.renderer.addGroup(i);var s=new l.OptionsControllerContainer(this.renderer,this.gui,i);this.parent.addControllerGroup(s)},e.prototype.add=function(){var t=this.gui.addFolder("Generator");a.addGuiItems(t,[new s.GuiItem(this,"count","Count",10,5e3),new s.GuiItem(this,"blur","Blur",0,50),new s.GuiItem(this,"generateInternal","Generate"),new s.GuiItem(this,"tint","Tint",void 0,void 0,void 0,void 0,"color")]),this.folder=t},e.prototype.generateInternal=function(){this.generate(this.count,this.tint,this.blur)},e}(r(3).OptionsControllerGroup);e.OptionsControllerGenerator=u},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=r(2),s=r(1),a=function(t){function e(e,r){return t.call(this,e,r)||this}return n(e,t),e.prototype.add=function(){var t=this.gui.addFolder("Physics");s.addGuiItems(t,[new o.GuiItem(this.renderer.engine,"gravity","Gravity",-1,1,void 0,!0),new o.GuiItem(this.renderer.engine,"density","Density",0,50,void 0,!0),new o.GuiItem(this.renderer.engine,"stiffness","Stiffness",-1,5,void 0,!0),new o.GuiItem(this.renderer.engine,"bulkViscosity","Bulkviscosity",-1,5,void 0,!0),new o.GuiItem(this.renderer.engine,"elasticity","Elasticity",-1,1,void 0,!0),new o.GuiItem(this.renderer.engine,"viscosity","Viscosity",-1,1,void 0,!0),new o.GuiItem(this.renderer.engine,"yieldRate","Yieldrate",-1,1,void 0,!0),new o.GuiItem(this.renderer.engine,"smoothing","Smoothing",0,1,void 0,!0),new o.GuiItem(this,"copy","Copy Settings")]),this.folder=t},e.prototype.copy=function(){var t={Gravity:this.renderer.engine.gravity,Density:this.renderer.engine.density,Stiffness:this.renderer.engine.stiffness,BulkViscosity:this.renderer.engine.bulkViscosity,Elasticity:this.renderer.engine.elasticity,Viscosity:this.renderer.engine.viscosity,YieldRate:this.renderer.engine.yieldRate,Smoothing:this.renderer.engine.smoothing};this.copyText(JSON.stringify(t))},e.prototype.copyText=function(t){var e=document.createElement("textarea");e.style.opacity="0",document.body.appendChild(e),e.textContent=t,e.select(),document.execCommand("copy"),e.remove()},e}(r(3).OptionsControllerGroup);e.OptionsControllerPhysics=a},function(t,e,r){"use strict";var i,n=this&&this.__extends||(i=function(t,e){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])})(t,e)},function(t,e){function r(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var s=r(6),a=r(2),l=r(1),u=r(7),c=function(t){function e(e,r){var i=t.call(this,e,r)||this;return i.renderer=e,i}return n(e,t),e.prototype.add=function(){var t=this.gui.addFolder("Visual Themes");l.addGuiItems(t,[new a.GuiItem(this,"electric","Electric"),new a.GuiItem(this,"lava","Lava")]),this.folder=t},e.prototype.electric=function(){this.clearFolders(),this.renderer.destroyGroups(),this.createAndAdd(5e3,255,24),this.createAndAdd(5e3,65535,2)},e.prototype.lava=function(){this.clearFolders(),this.renderer.destroyGroups(),this.createAndAdd(5e3,16761344,3),this.createAndAdd(5e3,16711680,11)},e.prototype.createAndAdd=function(t,e,r){for(var i=this.renderer.createParticleGroup(),n=0;n<t;n++)i.addParticle(new s.PixiParticle);i instanceof s.PixiParticleGroup&&(i.tint=e,i.blur=r),this.renderer.addGroup(i),this.parent.addControllerGroup(new u.OptionsControllerContainer(this.renderer,this.gui,i))},e.prototype.clearFolders=function(){var t,e;try{for(var r=o(Object.keys(this.gui.__folders)),i=r.next();!i.done;i=r.next()){var n=i.value,s=this.gui.__folders[n];s.name.indexOf("Container")>=0&&this.gui.removeFolder(s)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}},e}(r(3).OptionsControllerGroup);e.OptionsControllerThemes=c},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(19),n=r(20),o=r(22),s=r(23),a=r(0);e.Base=i,e.Engine=n,e.Misc=o,e.Rendering=s,e.Utilities=a},function(t,e,r){"use strict";function i(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),i(r(8)),i(r(9)),i(r(10))},function(t,e,r){"use strict";function i(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),i(r(21)),i(r(11)),i(r(12))},function(t,e,r){"use strict";var i=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,r=e&&t[e],i=0;if(r)return r.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&i>=t.length&&(t=void 0),{value:t&&t[i++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(e,"__esModule",{value:!0});var n=r(0),o=r(11),s=r(12),a=function(){function t(t,e){this.particles=[],this.influenceMultiplier=6,this.gridSizeX=0,this.gridSizeY=0,this.grid=[],this.active=[],this.points={},this.density=2,this.stiffness=1,this.bulkViscosity=1,this.elasticity=0,this.viscosity=.1,this.yieldRate=0,this.gravity=.05,this.smoothing=0,this.currentParticles=[],this.oldWidth=0,this.oldHeight=0,this.mode=-1,this.space=!1,this.gridMultiplier=5.89,console.log("Liquidity v1.0.1"),this.viewportWidth=t,this.viewportHeight=e,this.reinit()}return Object.defineProperty(t.prototype,"particleCount",{get:function(){return this.particles.length},enumerable:!0,configurable:!0}),t.prototype.addPointInfo=function(t,e){this.points[t]=e},t.prototype.removeParticle=function(t){var e=this.particles.indexOf(t);if(!(e>=0))throw new Error("Unable to find particle.");this.particles.splice(e,1)},t.prototype.removeParticles=function(t){var e,r,n=new Set(t.map(function(t){return t.id})),o=[];try{for(var s=i(this.particles.slice()),a=s.next();!a.done;a=s.next()){var l=a.value;n.has(l.id)||o.push(l)}}catch(t){e={error:t}}finally{try{a&&!a.done&&(r=s.return)&&r.call(s)}finally{if(e)throw e.error}}this.particles=o},t.prototype.createParticle=function(t,e){return t=void 0!==t?Math.ceil(t/this.gridMultiplier):n.rand(1,this.gridSizeX-3),e=void 0!==e?Math.ceil(e/this.gridMultiplier):n.rand(1,this.gridSizeY-3),new o.EngineParticle(t,e,0,0)},t.prototype.createAndAddParticle=function(){var t=this.createParticle();return this.addParticle(t),t},t.prototype.addParticle=function(t){return this.particles.push(t),this},t.prototype.reinit=function(t){void 0===t&&(t=!0),t&&(this.gridSizeX=Math.ceil(this.viewportWidth/this.gridMultiplier),this.gridSizeY=Math.ceil(this.viewportHeight/this.gridMultiplier));var e=Math.ceil(this.oldWidth/this.gridMultiplier),r=Math.ceil(this.oldHeight/this.gridMultiplier),i=Math.abs(this.gridSizeX-e),n=Math.abs(this.gridSizeY-r);if(this.gridSizeX>e){this.grid.forEach(function(t){for(var e=0;e<n;e++)t.push(new s.Node)});for(var o=0;o<i;o++){this.grid.push([]);for(var a=0;a<this.gridSizeY;a++)this.grid[o].push(new s.Node)}}else{for(o=0;o<i;o++)this.grid.pop();this.grid.forEach(function(t){for(var e=0;e<n;e++)t.pop()})}},t.prototype.init=function(){this.grid=[],this.grid.length=this.gridSizeX,this.particles=[],this.buildGrid()},t.prototype.simulate=function(){var t,e,r,n,o,s,a=this.points,l=Object.keys(a);try{for(var u=i(l),c=u.next();!c.done;c=u.next()){(Ht=a[c.value])&&(Ht.active&&Ht.activePreviously&&(Ht.calculatedX=(Ht.x-Ht.previousX)/this.influenceMultiplier,Ht.calculatedY=(Ht.y-Ht.previousY)/this.influenceMultiplier),Ht.activePreviously=Ht.active,Ht.previousX=Ht.x,Ht.previousY=Ht.y)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(e=u.return)&&e.call(u)}finally{if(t)throw t.error}}for(var h=0,d=this.active.length;h<d;h++){(S=this.active[h]).m=S.gX=S.gY=S.u=S.v=S.aX=S.aY=0,S.active=!1}this.active=[];var p=0;for(d=this.particles.length;p<d;p++){(Ft=this.particles[p]).cX=Math.floor(Ft.x-.5),Ft.cY=Math.floor(Ft.y-.5);var f=Ft.cX-Ft.x;Ft.pX[0]=.5*f*f+1.5*f+1.125,Ft.gX[0]=f+1.5,f+=1,Ft.pX[1]=-f*f+.75,Ft.gX[1]=-2*f,f+=1,Ft.pX[2]=.5*f*f-1.5*f+1.125,Ft.gX[2]=f-1.5;var y=Ft.cY-Ft.y;Ft.pY[0]=.5*y*y+1.5*y+1.125,Ft.gY[0]=y+1.5,y+=1,Ft.pY[1]=-y*y+.75,Ft.gY[1]=-2*y,y+=1,Ft.pY[2]=.5*y*y-1.5*y+1.125,Ft.gY[2]=y-1.5;for(var v=Ft.cX,g=Ft.cY,b=0;b<3;b++)for(var m=this.grid[v+b],_=0;_<3;_++){!1===(S=m[g+_]).active&&(this.active.push(S),S.active=!0);var P=Ft.pX[b]*Ft.pY[_];S.m+=P;var w=Ft.gX[b]*Ft.pY[_],O=Ft.pX[b]*Ft.gY[_];S.gX+=w,S.gY+=O,S.u+=P*Ft.u,S.v+=P*Ft.v}}for(h=0,d=this.active.length;h<d;h++){(S=this.active[h]).m>0&&(S.u/=S.m,S.v/=S.m)}for(p=0,d=this.particles.length;p<d;p++){var x=0,G=0,M=0,j=0;for(v=(Ft=this.particles[p]).cX,g=Ft.cY,b=0;b<3;b++)for(m=this.grid[v+b],_=0;_<3;_++){var S=m[g+_],I=Ft.gX[b]*Ft.pY[_],Y=Ft.pX[b]*Ft.gY[_];x+=S.u*I,G+=S.u*Y,M+=S.v*I,j+=S.v*Y}var C=G-M,A=C*Ft.force1,X=.5*C*(Ft.force0-Ft.force2),F=x,R=.5*(G+M),E=j,z=.5*(F+E);F-=z,E-=z,Ft.force0+=-A+F-this.yieldRate*Ft.force0,Ft.force1+=X+R-this.yieldRate*Ft.force1,Ft.force2+=A+E-this.yieldRate*Ft.force2;var N=Ft.force0*Ft.force0+2*Ft.force1*Ft.force1+Ft.force2*Ft.force2;(this.mode>-1||N>5)&&(Ft.force0=Ft.force1=Ft.force2=0);var T=Math.floor(Ft.x),B=Math.floor(Ft.y),V=Math.floor(T+1),W=Math.floor(B+1),k=this.grid[T],D=k[B],H=k[W],U=this.grid[V],Z=U[B],L=U[W],Q=D.m,J=D.gX,q=D.gY,K=H.m,$=H.gX,tt=H.gY,et=Z.m,rt=Z.gX,it=Z.gY,nt=L.m,ot=L.gX,st=L.gY,at=et-Q,lt=K-Q,ut=3*at-rt-2*J,ct=3*lt-tt-2*q,ht=-2*at+rt+J,dt=-2*lt+tt+q,pt=Q+q+ct+dt,ft=Q+J+ut+ht,yt=3*nt-2*$-ot-3*pt-ut,vt=-2*nt+$+ot+2*pt-ht,gt=3*nt-2*it-st-3*ft-ct,bt=-2*nt+it+st+2*ft-dt,mt=$-bt-gt-J,_t=Ft.x-T,Pt=_t*_t,wt=_t*Pt,Ot=Ft.y-B,xt=Ot*Ot,Gt=Ot*xt,Mt=Q+J*_t+q*Ot+ut*Pt+ct*xt+ht*wt+dt*Gt+yt*Pt*Ot+vt*wt*Ot+gt*_t*xt+bt*_t*Gt+mt*_t*Ot,jt=(this.stiffness+Ft.stiffness)/Math.max(1,this.density)*(Mt-this.density);jt>2&&(jt=2);var St=0,It=0;Ft.x<3?St+=3-Ft.x:Ft.x>this.gridSizeX-4&&(St+=this.gridSizeX-4-Ft.x),Ft.y<3?It+=3-Ft.y:Ft.y>this.gridSizeY-4&&(It+=this.gridSizeY-4-Ft.y),z*=this.stiffness+Ft.stiffness;var Yt=this.elasticity*Ft.force0+this.viscosity*F+jt+this.bulkViscosity*z,Ct=this.elasticity*Ft.force1+this.viscosity*R,At=this.elasticity*Ft.force2+this.viscosity*E+jt+this.bulkViscosity*z;for(b=0;b<3;b++)for(m=this.grid[v+b],_=0;_<3;_++){S=m[g+_],P=Ft.pX[b]*Ft.pY[_],w=Ft.gX[b]*Ft.pY[_],O=Ft.pX[b]*Ft.gY[_];S.aX+=St*P-(w*Yt+O*Ct),S.aY+=It*P-(w*Ct+O*At)}}for(h=0,d=this.active.length;h<d;h++){(S=this.active[h]).m>0&&(S.aX/=S.m,S.aY/=S.m,S.u=0,S.v=0)}var Xt=[];this.currentParticles=Xt;for(p=0,d=this.particles.length;p<d;p++){var Ft=this.particles[p];for(b=0;b<3;b++)for(m=this.grid[Ft.cX+b],_=0;_<3;_++){S=m[Ft.cY+_],P=Ft.pX[b]*Ft.pY[_];Ft.u+=P*S.aX,Ft.v+=P*S.aY}Ft.v+=this.gravity+Ft.individualGravity;try{for(var Rt=(r=void 0,i(l)),Et=Rt.next();!Et.done;Et=Rt.next()){var zt=(Ht=a[Et.value]).size||10;if(Ht&&(Ht.active=Ht.activePreviously,Ht.active)){var Nt=Math.abs(Ft.x-Ht.x/this.influenceMultiplier),Tt=Math.abs(Ft.y-Ht.y/this.influenceMultiplier);if(Nt<zt&&Tt<zt){var Bt=(1-Nt/zt)*(1-Tt/zt);Ft.u+=Bt*(Ht.calculatedX-Ft.u),Ft.v+=Bt*(Ht.calculatedY-Ft.v),Xt.push(Ft)}}}}catch(t){r={error:t}}finally{try{Et&&!Et.done&&(n=Rt.return)&&n.call(Rt)}finally{if(r)throw r.error}}f=Ft.x+Ft.u,y=Ft.y+Ft.v;f<2?Ft.u+=2-f+.01*Math.random():f>this.gridSizeX-3&&(Ft.u+=this.gridSizeX-3-f-.01*Math.random()),y<2?Ft.v+=2-y+.01*Math.random():y>this.gridSizeY-3&&(Ft.v+=this.gridSizeY-3-y-.01*Math.random());for(v=Ft.cX,g=Ft.cY,b=0;b<3;b++)for(m=this.grid[v+b],_=0;_<3;_++){S=m[g+_],P=Ft.pX[b]*Ft.pY[_];S.u+=P*Ft.u,S.v+=P*Ft.v}}for(h=0,d=this.active.length;h<d;h++){(S=this.active[h]).m>0&&(S.u/=S.m,S.v/=S.m)}for(p=0,d=this.particles.length;p<d;p++){Ft=this.particles[p];var Vt=0,Wt=0;for(b=0;b<3;b++)for(m=this.grid[Ft.cX+b],_=0;_<3;_++){S=m[Ft.cY+_];Vt+=(P=Ft.pX[b]*Ft.pY[_])*S.u,Wt+=P*S.v}Ft.gU=Vt,Ft.gV=Wt,Ft.x+=Vt,Ft.y+=Wt,Ft.u+=this.smoothing*(Vt-Ft.u),Ft.v+=this.smoothing*(Wt-Ft.v)}try{for(var kt=i(l),Dt=kt.next();!Dt.done;Dt=kt.next()){var Ht,Ut=Dt.value;(Ht=a[Ut])&&Ht.autoRemove&&(a[Ut]=void 0)}}catch(t){o={error:t}}finally{try{Dt&&!Dt.done&&(s=kt.return)&&s.call(kt)}finally{if(o)throw o.error}}},t.prototype.buildGrid=function(){for(var t=0;t<this.gridSizeX;t++){var e=[];e.length=this.gridSizeY,this.grid[t]=e;for(var r=0;r<this.gridSizeY;r++)e[r]=new s.Node}},t}();e.Engine=a},function(t,e,r){"use strict";function i(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}Object.defineProperty(e,"__esModule",{value:!0}),i(r(1)),i(r(7)),i(r(15)),i(r(3)),i(r(16)),i(r(17))},function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=r(6);e.PixiJS=i}])});